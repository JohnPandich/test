/**
 * plugin.js
 *
 * Released under LGPL License.
 * Copyright (c) 1999-2015 Ephox Corp. All rights reserved
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/*jshint unused:false */
/*global tinymce:true */

/**
 * Example plugin that adds a toolbar button and menu item.
 */
tinymce.PluginManager.add('databend', function(editor, url) {
	editor.on('init', function(){

		var linkElm = editor.dom.create('script', {
			id: editor.dom.uniqueId(),
			src: url + '/jquery/jquery-1.11.2.min.js'
		});
		editor.getDoc().getElementsByTagName('head')[0].appendChild(linkElm);

		linkElm = editor.dom.create('script', {
			id: editor.dom.uniqueId(),
			src: url + '/jquery/jquery-ui-1.11.4.custom/jquery-ui.min.js'
		});
		editor.getDoc().getElementsByTagName('head')[0].appendChild(linkElm);

		linkElm = editor.dom.create('link', {
			id: editor.dom.uniqueId(),
			rel: 'stylesheet',
			href: url + '/jquery/jquery-ui-1.11.4.custom/jquery-ui.min.css'
		});
		editor.getDoc().getElementsByTagName('head')[0].appendChild(linkElm);

		linkElm = editor.dom.create('script', {
			id: editor.dom.uniqueId(),
			src: url + '/vis/vis.min.js'
		});
		editor.getDoc().getElementsByTagName('head')[0].appendChild(linkElm);

		linkElm = editor.dom.create('link', {
			id: editor.dom.uniqueId(),
			rel: 'stylesheet',
			href: url + '/vis/vis.min.css'
		});
		editor.getDoc().getElementsByTagName('head')[0].appendChild(linkElm);
	});
});
